---
profile::gitlab::gitlab_fqdn: "%{hiera('opstheater::gitlab::fqdn')}"
profile::gitlab::gitlab_url: "%{hiera('opstheater::http_mode')}://%{hiera('opstheater::gitlab::fqdn')}"
profile::gitlab::gitlab_ipaddress: "%{hiera('opstheater::gitlab::ipaddress')}"

profile::gitlab::gitlabci_url: "%{hiera('opstheater::http_mode')}://%{hiera('opstheater::gitlab::fqdn')}/ci"

profile::gitlab::mattermost_fqdn: "%{hiera('opstheater::mattermost::fqdn')}"
profile::gitlab::mattermost_url: "%{hiera('opstheater::http_mode')}://%{hiera('opstheater::mattermost::fqdn')}"

profile::gitlab::api_endpoint: "%{hiera('opstheater::http_mode')}://%{hiera('opstheater::gitlab::fqdn')}/api/v3"
profile::gitlab::api_user: 'root'
profile::gitlab::api_password: '5iveL!fe'

profile::gitlab::filebeat_prospector:
  gitlablogs:
    paths:
      - '/var/log/gitlab/nginx/gitlab_access.log'
      - '/var/log/gitlab/nginx/gitlab_error.log'
      - '/var/log/gitlab/nginx/gitlab_ci_access.log'
      - '/var/log/gitlab/nginx/gitlab_ci_error.log'
      - '/var/log/gitlab/gitlab-rails/production.log'
      - '/var/log/gitlab/unicorn/unicorn_stdout.log'
      - '/var/log/gitlab/unicorn/unicorn_stderr.log'
    log_type: 'gitlablogs-beat'
